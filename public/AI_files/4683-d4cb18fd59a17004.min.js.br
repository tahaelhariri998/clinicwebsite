"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8a2e1548-ca86-5c9a-b889-9999133a936c")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4683],{70080:(e,t,a)=>{a.d(t,{Ai:()=>A,DA:()=>I,E_:()=>C,Gp:()=>b,HP:()=>m,IE:()=>T,MZ:()=>i,N1:()=>E,Nk:()=>y,OX:()=>x,SY:()=>d,Si:()=>v,Wv:()=>g,XE:()=>h,ZA:()=>o,Zp:()=>n,cm:()=>R,gG:()=>p,gK:()=>w,hQ:()=>s,kG:()=>M,kL:()=>l,mL:()=>S,mY:()=>r,op:()=>c,pT:()=>_,q4:()=>f,qd:()=>k,qy:()=>N,tL:()=>u,ty:()=>O});let o="feed_post_detail_modal--detailModal--MMYKj",n="feed_post_detail_modal--layout--b28Tm",l="feed_post_detail_modal--container--PkjxH",s="feed_post_detail_modal--contentContainer--HvXHM",i="feed_post_detail_modal--contentContainerFull--Y-lEo feed_post_detail_modal--contentContainer--HvXHM",m="feed_post_detail_modal--rightSideContainer--n9eWy",d="feed_post_detail_modal--sidebarCollapsed--JYqsn feed_post_detail_modal--contentOverlayPill--1jsoj",c="feed_post_detail_modal--infoContainer--r-tGh",r="feed_post_detail_modal--topRow--Rs14r",_="feed_post_detail_modal--postTitle--dZdnT feed_tile--postTitle--DY-Hh",u="feed_post_detail_modal--postDescription--9xUac",p="feed_post_detail_modal--postDescriptionMessage--vHcLD comment_message--commentMessage--kZCzD",h="feed_post_detail_modal--fileInfo--IsxWn",f="feed_post_detail_modal--detailsFileButtonName--kqizR",g="feed_post_detail_modal--detailsFileButtonIcon--wfORW",C="feed_post_detail_modal--bottomRow--ycO1b",E="feed_post_detail_modal--headerContainer--oByFt",k="feed_post_detail_modal--headerTitle--SJpLy",T="feed_post_detail_modal--headerRight--VNHRM",b="feed_post_detail_modal--headerSvg--9mFA0",v="feed_post_detail_modal--headerContextMenu--0idb0",y="feed_post_detail_modal--closeX--NwlcU",M="feed_post_detail_modal--composerContainer--bIZJV",w="feed_post_detail_modal--composerAvatar--4cjv3",I="feed_post_detail_modal--composer--A7iTJ thread_comment_composer--inputSectionWrapper--Bxyab",x="feed_post_detail_modal--editableTypeahead--4ZMRF thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",O="feed_post_detail_modal--commentSection--2SXbE",N="feed_post_detail_modal--commentSectionScroll--yFbDD",A="feed_post_detail_modal--existingComments--1ORWZ",S="feed_post_detail_modal--arrowDown--XpvZj",R="feed_post_detail_modal--commentsToast--nTd74"},114292:(e,t,a)=>{a.d(t,{$S:()=>l,D5:()=>i,HL:()=>o,KD:()=>n,Qi:()=>s});let o="feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",n="feed_reactions_section--reactionList---Yu5e",l="feed_reactions_section--addReactionButton--0D-O4",s="feed_reactions_section--addReactionButtonSelected--OU1gq",i="feed_reactions_section--addReactionButtonOnly--9t-4W"},785080:(e,t,a)=>{a.d(t,{J:()=>s,k:()=>i});var o=a(881388),n=a(939863),l=a(980820);let s=(0,l.nF)((e,t)=>{let{receiptsAPI:a,comment:l}=t;a.markAsUnread(l.uuid).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_unread");try{t=JSON.parse(t),e.dispatch(o.s.error((0,n.Jv)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})}),i=(0,l.nF)((e,t)=>{let{receiptsAPI:a,thread:l}=t,s=l.comments.map(e=>e.uuid).filter(e=>!!e);a.markAsRead(s).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(o.s.error((0,n.Jv)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})})},657544:(e,t,a)=>{a.d(t,{J:()=>o,o:()=>n});let o="https://play.google.com/store/apps/details?id=com.figma.mirror",n="https://apps.apple.com/us/app/figma-mirror/id1152747299#"},965837:(e,t,a)=>{a.d(t,{h:()=>i});var o=a(411855),n=a(939863),l=a(237870),s=a(488578);let i=(0,l.Ju)(function(e){return o.createElement(s.Rw,{destructive:!0,confirmationTitle:"Delete comment",confirmText:"Delete",onConfirm:e.onConfirm,popStack:e.popStack},o.createElement("p",null,(0,n.tx)("comments.are_you_sure_you_want_to_delete_this_comment_this_action_cannot_be_undone")))},"CommentConfirmDeleteModal")},421422:(e,t,a)=>{a.d(t,{Q:()=>s,X:()=>n});var o=a(268223);let n="feed_post_detail_modal_opened",l=(0,o.Op)({initial:"await_open_feed_post_detail_modal",states:[{id:"await_open_feed_post_detail_modal",transitions:[(0,o.nr)(n,"complete")]},{id:"complete",terminal:!0}]}),s=(0,o.rn)("open_feed_post_detail_modal",l)},727236:(e,t,a)=>{a.d(t,{O:()=>b,b:()=>v});var o=a(411855),n=a(638889),l=a(939863),s=a(456104),i=a(835691),m=a(309798),d=a(397065),c=a(218997),r=a(799569),_=a(946689),u=a(672517),p=a(15839),h=a(485861),f=a(275596),g=a(630834),C=a(304516);function E(e){let t=o.useRef(null),[a,n]=o.useState({width:0,height:0});o.useLayoutEffect(()=>{if(t.current){let e=t.current.getBoundingClientRect();n({width:e.width,height:e.height})}},[n]);let l=e.width,s=e.backgroundColor,i="light"===e.background,m=(0,h.xT)(e.targetKey)||document.documentElement;if(!m)return null;let d=o.createElement(r.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:f._S,onClick:e.dismissModal,innerText:"close",svg:i?g.default:C.A}),c=o.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&o.createElement("div",{className:f.ZA},e.bottomLeftText&&o.createElement("b",null,e.bottomLeftText),o.createElement("div",{className:f.OQ},e.secondaryCtaText&&e.onClickSecondaryCta&&o.createElement(u.$z,{className:i?f.jS:f.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&o.createElement(_.vd,{className:i?f.TI:f.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),E=function(e,t,a,o,n){let l=n??0;switch(o){case p.LN.BOTTOM_LEFT:return{top:e.bottom-(a+l),left:e.left+l};case p.LN.BOTTOM_RIGHT:return{top:e.bottom-(a+l),left:e.right-(t+l)};case p.LN.TOP_RIGHT:return{top:e.top+l,left:e.right-(t+l)};case p.LN.CENTER:return{top:e.top+(e.height-a)/2,left:e.left+(e.width-t)/2};default:return{top:e.top+l,left:e.left+l}}}(m.getBoundingClientRect(),a.width,a.height,e.modalLocation,e.positionOffset);return o.createElement("div",{className:i?f.IL:f.wV,ref:t,style:{backgroundColor:s,width:l,...E}},o.createElement("div",null,o.createElement("h1",null,e.title),e.children,d),c)}var k=a(463546),T=a(421422);let b="feed-post-detail-modal";function v(){let e=(0,s.e)({overlay:k.bIZ,priority:d.N.DEFAULT_MODAL}),t=(0,i.zl)(T.Q),a=o.useMemo(()=>(0,l.tx)("rcs.feed_onboarding.zoom_pan.title"),[]),r=!!(0,m.f)("has_seen_feed_post_details_zoom_pan_nudge");(0,o.useEffect)(()=>{!r&&t.completed&&e.show()},[e,r,t]);let _=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"\u2318\xb1"}),[]),u=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"Ctrl\xb1"}),[]);return o.createElement(c.h,{modalType:p.q3.SELF_CONTAINED,element:(0,o.useCallback)(e=>o.createElement(E,{targetKey:b,dismissModal:e.dismissModal,title:a,ctaText:(0,l.t)("rcs.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268,modalLocation:p.LN.BOTTOM_LEFT,positionOffset:16},o.createElement("p",null,(0,l.tx)("rcs.feed_onboarding.zoom_pan.content",{macKeyboardShortcut:_,windowsKeyboardShortcut:u}))),[a,_,u]),trackingContextName:"Feed Post Details View Zoom Pan Nudge",isShowing:e.isShowing,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,userFlagOnShow:"has_seen_feed_post_details_zoom_pan_nudge"})}},360163:(e,t,a)=>{a.d(t,{K:()=>E,R:()=>k});var o=a(411855),n=a(188507),l=a(358145),s=a(268537),i=a(939863),m=a(785080),d=a(975350),c=a(738269),r=a(662275),_=a(309249),u=a(103907),p=a(335682),h=a(860178),f=a(440535),g=a(965837),C=a(298543);let E=e=>`COMMENT_SIDEBAR_OVERFLOW_DROPDOWN-${e}`;function k(e){let{thread:t,targetRect:a,isUnread:E,copyLink:k,onDeleteThread:T}=e,{commentReceipts:b}=(0,u.I_)(),v=(0,_.fr)(),y=(0,n.wA)(),M=(0,p.tS)(),w=(0,h.TA)(),I=(0,l.ZC)(a),x=o.useCallback(()=>{y(c.oB())},[y]);o.useEffect(()=>{I&&(a.top!==I.top||a.left!==I.left)&&x()},[a,I,x]);let O=o.useCallback(()=>{b&&(E?y(d.AY({receiptsAPI:b,thread:t})):y(d.QY({receiptsAPI:b,comment:t.comments[0]})))},[b,y,E,t]),N=o.useCallback(()=>{v&&(E?y(m.k({receiptsAPI:v,thread:t})):y(m.J({receiptsAPI:v,comment:t.comments[0]})))},[v,y,E,t]),A=o.useCallback(()=>{k(t.comments[0])},[k,t]),S=o.useCallback(()=>{let e=T?()=>T(t):()=>y(d.Mv({comment:t.comments[0]}));y((0,r.to)({type:g.h,data:{onConfirm:e}}))},[y,T,t]),R=o.useMemo(()=>{if(w===t.comments[0].user_id&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType))return o.createElement(s.c$,{onClick:S},(0,i.tx)("comments.delete_thread"))},[t,w,S]),D=o.useMemo(()=>{let e=[];return v&&M&&t.isCanvasMention?e.push(o.createElement(s.c$,{onClick:N},E?(0,i.tx)("comments.mark_as_read"):(0,i.tx)("comments.mark_as_unread"))):b&&M&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType)&&e.push(o.createElement(s.c$,{onClick:O},E?(0,i.tx)("comments.mark_as_read"):(0,i.tx)("comments.mark_as_unread"))),e.push(o.createElement(s.c$,{onClick:A},(0,i.tx)("comments.copy_link"))),R&&e.push(R),e},[b,v,M,A,R,t.isCanvasMention,t.sidebarItemType,N,O,E]);return o.createElement(C.Jz,{showPoint:!0,targetRect:a,minWidth:160,options:D,hideDropdown:x,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!0,propagateCloseClick:!0})}},697338:(e,t,a)=>{a.d(t,{Pp:()=>i});var o=a(411855),n=a(154254),l=a(63666),s=a(936181);function i(e){return o.createElement(o.Fragment,null,e.calloutTargetKey&&o.createElement(s.x,{target:e.calloutTargetKey,isBrandColor:!0}),o.createElement(l.CR,{arrowPosition:e.arrowPosition,targetKey:e.pointerTargetKey,width:e.width-2*l.uv,shouldDismissWhenLostDOMTarget:!0,dismissModal:e.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide,className:"instructional_walk_through_modal--modal--B0i2r pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",shouldCenterArrow:e.shouldCenterArrow},o.createElement("div",null,o.createElement("div",{className:n.cx.flex.gap8.mb8.itemsCenter.flexWrap.$},o.createElement("h1",null,e.title),e.badge),e.subtitle&&(e.instructions?.length?o.createElement("h2",null,e.subtitle):o.createElement("p",null,e.subtitle)),e.instructions?.length&&o.createElement(m,{instructions:e.instructions}))))}function m(e){return 0===e.instructions.length?null:o.createElement("div",{className:"instructional_walk_through_modal--instructionBox--RCbF8","data-testid":"instructionalWalkThroughModalInstructionBox"},e.instructions.map((e,t)=>o.createElement(d,{instruction:e,instructionNumber:t+1,key:t})))}function d(e){return o.createElement("div",{className:"instructional_walk_through_modal--instruction--TghvO","data-testid":"instructionalWalkThroughModalInstruction"},o.createElement("div",{className:"instructional_walk_through_modal--instructionNumber--Qy7Hu"},e.instructionNumber),o.createElement("p",null,e.instruction))}},665061:(e,t,a)=>{a.d(t,{V:()=>c});var o=a(411855),n=a(939863),l=a(896474),s=a(318812),i=a(498606),m=a(298543),d=a(227795);function c(e){let t=(0,s.BK)(e.dropdownId),a=o.useRef(null),c=o.useRef(null);if(o.useEffect(()=>{t.showing&&c.current&&c.current.focus()},[t.showing]),e.hideTarget&&!t.showing)return null;let r=e.children;return r||(r=o.createElement(d.YW,{style:t.showing?{backgroundColor:"var(--color-bg-hover, var(--fallback-color-bg-hover))"}:void 0,selected:t.showing,"data-tooltip-type":i.Ib.TEXT,"data-tooltip":(0,n.t)("fig_feed.more_actions"),onClick:e=>{e.stopPropagation(),t.toggle()}},o.createElement(l.In,{icon:"dots-32"}))),o.createElement("div",null,o.createElement("div",{role:"none",ref:a,onMouseDown:e=>e.stopPropagation()},r),a.current&&t.showing&&o.createElement(m.Jz,{showPoint:!1,targetRect:a.current.getBoundingClientRect(),options:e.options,closeDropdown:t.hide,hideDropdown:t.hide,lean:e.lean,minWidth:e.minWidth,maxHeight:e.maxHeight,maxWidth:e.maxWidth,textAlign:e.textAlign,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,propagateCloseClick:!0}))}},47026:(e,t,a)=>{a.d(t,{i:()=>T});var o=a(411855),n=a(188507),l=a(988652),s=a(503457),i=a(268537),m=a(939863),d=a(67294),c=a(975350),r=a(662275),_=a(569172),u=a(965837),p=a(30990),h=a(400333),f=a(360163),g=a(665061),C=a(339617),E=a(531398),k=a(385121);function T(e){let t=(0,n.wA)(),[a,i]=(0,l.M)(),[m,r]=o.useState([]);o.useEffect(()=>{r(e.messageMeta)},[e.messageMeta]);let[u,f]=o.useState(!1),g=(0,n.d4)(e=>e.comments.editingComment),T=o.useCallback(a=>{t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a.id,attachment:a}))},[t,e.commentId,e.commentUuid]),v=o.useCallback(a=>(t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a,attachment:null})),Promise.resolve()),[e.commentId,e.commentUuid,t]),y=o.useCallback(()=>{t(_.cx({commentId:e.commentId,uuid:e.commentUuid,messageMeta:m,attachmentUpdates:g?.attachmentUpdates})),t(c.cL()),f(!1)},[t,g,e.commentId,e.commentUuid,m]),M=o.useCallback(()=>{let a={};e.attachments?.forEach(e=>{a[e.id]=e}),t(c.Df({id:e.commentId,key:e.commentUuid,messageMeta:e.messageMeta,attachmentUpdates:{deleted:[],attachments:a}})),f(!0)},[t,e.commentId,e.commentUuid,e.messageMeta,e.attachments]),w=o.useCallback(()=>{r(e.messageMeta),t(c.pD()),f(!1)},[t,e.messageMeta]),I=e.commentUser.id===e.user.id,x=e.commentId.startsWith(_.v6),O=e.reactions.length>0;return o.createElement("div",{className:"feed_post_details_comments--comment--ScdJc",ref:a},o.createElement("div",{className:"feed_post_details_comments--avatarColumn--13o7f"},o.createElement(C.A,{user:e.commentUser,noHandle:!0,size:d.Pf.MEDIUM})),o.createElement("div",{className:"feed_post_details_comments--commentBody--tIA5q"},o.createElement("div",{className:"feed_post_details_comments--commentHeader--vzA-X"},o.createElement(C.B,{user:e.commentUser,date:e.createdAt,noAvatar:!0,shortDate:!0}),!u&&I&&o.createElement(b,{commentId:e.commentId,commentUuid:e.commentUuid,user:e.user,onEdit:M,hideTarget:!i})),u?o.createElement("div",{className:"feed_post_details_comments--editComposerContainer--ePn76"},o.createElement(k.o,{fallback:s.H4.NONE,errorFallback:s.H4.NONE,user:e.user,currentOrgId:e.currentOrgId,autofocus:!0,onSubmit:y,hideSubmitButton:!1,mentionables:e.mentionables,composerContainerClass:"feed_post_details_comments--composer--5EDPO thread_comment_composer--inputSectionWrapper--Bxyab",editableTypeaheadClass:"feed_post_details_comments--editableTypeahead--kMhTQ thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",messageContent:m,updateMessage:r,editingExistingComment:!0,onCancel:w,updateAttachment:T,deleteAttachment:v,attachments:g?.attachmentUpdates?.attachments?Object.values(g?.attachmentUpdates?.attachments):[]})):o.createElement(o.Fragment,null,o.createElement("div",{className:"feed_post_details_comments--commentRow--c2So7"},o.createElement(h.HH,{messageMeta:m,commentId:e.commentId,className:"feed_post_details_comments--commentMessage--lHCM2"}),!x&&!O&&o.createElement(E.nn,{type:E.Us.ADD_ONLY,source:E.zY.DETAIL_COMMENT_NO_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!i})),e.attachments&&o.createElement("div",{className:"feed_post_details_comments--attachmentsContainer--M-F-r"},o.createElement(p.a,{attachments:e.attachments,canEdit:I,fileKey:""})),O&&o.createElement(E.nn,{type:E.Us.FULL,source:E.zY.DETAIL_COMMENT_WITH_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!i}))))}function b(e){let t=(0,n.wA)(),a=o.useCallback(()=>{t((0,r.to)({type:u.h,data:{onConfirm:()=>{t(_.BC({commentId:e.commentId,uuid:e.commentUuid}))},popStack:!0},showModalsBeneath:!0}))},[t,e.commentId,e.commentUuid]),{onEdit:l}=e,s=o.useMemo(()=>[o.createElement(i.c$,{onClick:l,key:"edit"},(0,m.tx)("comments.edit")),o.createElement(i.c$,{onClick:a,key:"delete"},(0,m.tx)("comments.delete_comment"))],[a,l]);return e.commentId.startsWith(_.v6)?null:o.createElement(g.V,{hideTarget:e.hideTarget,dropdownId:(0,f.K)(e.commentId),options:s,lean:"left"})}},385121:(e,t,a)=>{a.d(t,{o:()=>o});let o=(0,a(503457).kf)("lazy_feed_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,583630))).FeedPostCommentComposer})})}}]);

//# debugId=8a2e1548-ca86-5c9a-b889-9999133a936c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3bc60d05a93316201f93e02b148be94244212eac/4683-d4cb18fd59a17004.min.js.map